---
layout: page
---
<!-- load common variables -->
{% assign track_data = site.data.tracks.[page.track_name] %}

{% if track_data.group_by == "legislature"  %}  
    {% assign items = site.data.statements | where: "type", track_data.items_type | where: "election_type", track_data.election_type | where: "election_date", track_data.election_date %}
    {% assign documents = site.data.documents | where: 'election_type', track_data.election_type | where: 'election_date', track_data.election_date | where: 'type', track_data.items_type | sort: 'election_date' %}
{% elsif track_data.group_by == "party" %}
    {% assign items = site.data.statements | where: "type", track_data.items_type | where: "parties", track_data.party %}
    {% assign documents = site.data.documents | where: 'parties', track_data.party | sort: 'election_date' %}
{% else %}
    {% assign items = "" | split:"," %}
{% endif %}

{% assign total = items  | size %}

{{content}}

<!-- include custom html depending on track type -->
{% case track_data.items_by %}
    {% when 'party' %}
        {% include politics_promises_parties.html by='party' %}

    {% when 'politician' %}    
        {% include politics_promises_politicians.html by='politician' %}

    {% when 'politics-statements-by-politician' %}    
        {% include politics_statements_politicians.html %}
    
    {% when 'politics-facts' %}    
        {% include politics_facts.html %}
        
{% endcase %}

