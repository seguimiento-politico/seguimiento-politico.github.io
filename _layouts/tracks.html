---
layout: page
---

<div class="card py-3 shadow-sm">
    <div class="container">
      <div class="row row-cols-1 row-cols-xs-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4">
        {% assign tracks = site.data.tracks | sort %}
        
        {% for track in tracks %}
            {% assign scope_data = track[1].config %} 
            {% if track[1].draft == true %}
              {% continue %}
            {% endif %}
            
              {% assign teaser = site.images_path | append: 'teasers/' %}  
              
              {% include scope_path.html %}         
              {% if scope_data.institution %}
                {% assign scope_path = scope_path | append: scope_data.institution | append: '.png' %}
              {% endif %}
              {% assign teaser = teaser | append: scope_path %} 

                <div class="col py-3">
                    <div class="card shadow-sm bg-light h-100">
                    {% if teaser != site.teaser %}
                        <img src="{{ teaser }}" class="" alt="{{ scope_data.institution }}">
                    {% endif %}
                    <div class="card-body">
                    <h5 class="card-title">{{ track[1].context.name }}</h5>
                    <h6 class="card-subtitle mb-2 text-muted small">{{ track[1].context.from }} a {% if track[1].context.to %} {{ track[1].context.to }} {% else %} actualidad {% endif %}</h6>
                        <p class="card-text">{{ track[1].context.description }}</p>
                        
                    </div>
                    <div class="card-footer">
                        <div class="d-flex justify-content-between align-items-center">
                        <div class="btn-group">
                            <a class="btn btn-sm btn-outline-primary" href="tracks/{{ track[0] }}" role="button">{{ site.data.ui-text[site.locale].view_label | default: "view" | downcase }}</a>
                            <a class="btn btn-sm btn-outline-secondary" href="{{ site.raw-repository-source }}{{ site.repository}}/master/_data/tracks/trackers/{{ path }}/{{ track[0] }}.yaml" role="button">{{ site.data.ui-text[site.locale].open_label | default: "open data" | downcase }}</a>
                        </div>
                        {% assign track_name = track[0] %}
                        {% if scope_data.group_by == "legislature"  %}  
                            {% assign items = site.data.promises | where_exp: 'item', 'item.election_type == track[1].context.election_type' | where_exp: 'item', 'item.from == track[1].context.from' %}
                        {% elsif scope_data.group_by == "party" %}
                            {% assign items = site.data.promises | where: "parties", scope_data.party %}
                        {% else %}
                            {% assign items = "" | split:"," %}
                        {% endif %}
                            <small class="text-muted">{{ items | size }} {{ site.data.ui-text[site.locale].promises_label | default: "promises" | downcase }}</small>
                        </div>
                    </div>
                </div>
                </div>
        {% endfor %}
      </div>
    </div>
</div>
<br>
